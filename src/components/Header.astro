---
import "../styles/global.css";
import HeaderLink from "./HeaderLink.astro";
---

<header>
  <div class="py-5">
    <div class="flex flex-wrap items-center justify-between">
      <div class="text-2xl font-bold">
        <a href="/">Yichen Lai</a>
      </div>

      <button menu-button class="md:hidden">
        <div class="menu-container flex">
          <div id="first-line" class="menu-line"></div>
          <div id="second-line" class="menu-line"></div>
          <div id="third-line" class="menu-line"></div>
        </div>
      </button>

      <nav navbar-div class="hidden w-full md:block md:w-auto">
        <ul
          class="border-gray mt-0 flex flex-col rounded-b pt-4 font-medium md:m-0 md:flex-row md:space-x-8 md:border-0 md:bg-transparent md:p-0"
        >
          <li>
            <HeaderLink href="/">Home</HeaderLink>
          </li>
          <li>
            <HeaderLink href="/about">About</HeaderLink>
          </li>
          <li>
            <HeaderLink href="/posts">Posts</HeaderLink>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>
<hr />

<script>
  const menuButton = document.querySelector("[menu-button]");
  const navbarDiv = document.querySelector("[navbar-div]");
  const firstLine = document.getElementById("first-line");
  const menuContainer = document.getElementsByClassName("menu-container")[0];
  const secondLine = document.getElementById("second-line");
  const thirdLine = document.getElementById("third-line");
  menuButton?.addEventListener("click", () => {
    navbarDiv?.classList.toggle("hidden");
  });
  menuButton?.addEventListener("click", () => {
    menuContainer?.classList.toggle("relative");
    menuContainer?.classList.toggle("flex");
    firstLine?.classList.toggle("absolute");
    firstLine?.classList.toggle("bottom-1/2");
    firstLine?.classList.toggle("rotate-45");
    secondLine?.classList.toggle("absolute");
    secondLine?.classList.toggle("bottom-1/2");
    secondLine?.classList.toggle("-rotate-45");
    thirdLine?.classList.toggle("invisible");
  });
</script>
